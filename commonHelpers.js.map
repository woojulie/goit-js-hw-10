{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst inputData = document.querySelector(\".input-section input\");\nconst startButton = document.querySelector(\".input-section button\");\nconst daysElement = document.querySelector(\"span[data-days]\");\nconst hoursElement = document.querySelector(\"span[data-hours]\");\nconst minutesElement = document.querySelector(\"span[data-minutes]\");\nconst secondsElement = document.querySelector(\"span[data-seconds]\");\n\nlet countdownInterval;\nstartButton.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) { \n        startButton.disabled = false;\n        const selectedDate = selectedDates[0];\n    \n        if (selectedDate.getTime() <= Date.now()) {\n            startButton.disabled = true;\n            iziToast.warning({\n                message: \"Please choose a date in the future\",\n                position: \"topCenter\",\n                color: \"red\",\n});\n        } else {\n            startButton.addEventListener(\"click\", startButtonClick);\n                function startButtonClick() {\n                 iziToast.info({\n                    message: \"Timer is started\",\n                    position: \"topCenter\",\n                });\n                inputData.disabled = true;\n                startButton.disabled = true;\n;                if (countdownInterval) {\n                    clearInterval(countdownInterval); \n}\n      countdownInterval = setInterval(() => {\n        updateTimer(selectedDate);\n      }, 1000);\n                    startButton.removeEventListener(\"click\", startButtonClick);\n                };\n        }\n  },\n};\n\nflatpickr(inputData, options);\n\nfunction updateTimer(targetDate) {\n  const now = new Date().getTime();\n  const timeRemaining = targetDate.getTime() - now;\n  if (timeRemaining <= 0) {\n    clearInterval(countdownInterval);\n    daysElement.textContent = \"00\";\n    hoursElement.textContent = \"00\";\n    minutesElement.textContent = \"00\";\n    secondsElement.textContent = \"00\";\n      inputData.disabled = false;\n      iziToast.info({\n          message: \"Time is over!\",\n          position: \"topCenter\",\n      });\n    return;\n  }\n\n  const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));\n  const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);\n\n  daysElement.textContent = String(days).padStart(2, '0');\n  hoursElement.textContent = String(hours).padStart(2, '0');\n  minutesElement.textContent = String(minutes).padStart(2, '0');\n  secondsElement.textContent = String(seconds).padStart(2, '0');\n}"],"names":["inputData","startButton","daysElement","hoursElement","minutesElement","secondsElement","countdownInterval","options","selectedDates","selectedDate","iziToast","startButtonClick","updateTimer","flatpickr","targetDate","now","timeRemaining","days","hours","minutes","seconds"],"mappings":"+IAOA,MAAMA,EAAY,SAAS,cAAc,sBAAsB,EACzDC,EAAc,SAAS,cAAc,uBAAuB,EAC5DC,EAAc,SAAS,cAAc,iBAAiB,EACtDC,EAAe,SAAS,cAAc,kBAAkB,EACxDC,EAAiB,SAAS,cAAc,oBAAoB,EAC5DC,EAAiB,SAAS,cAAc,oBAAoB,EAElE,IAAIC,EACJL,EAAY,SAAW,GAEvB,MAAMM,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACnBP,EAAY,SAAW,GACvB,MAAMQ,EAAeD,EAAc,CAAC,EAEpC,GAAIC,EAAa,QAAO,GAAM,KAAK,IAAG,EAClCR,EAAY,SAAW,GACvBS,EAAS,QAAQ,CACb,QAAS,qCACT,SAAU,YACV,MAAO,KACvB,CAAC,MACc,CAEC,IAASC,EAAT,UAA4B,CAC3BD,EAAS,KAAK,CACX,QAAS,mBACT,SAAU,WAC9B,CAAiB,EACDV,EAAU,SAAW,GACrBC,EAAY,SAAW,GAClBK,GACD,cAAcA,CAAiB,EAE7CA,EAAoB,YAAY,IAAM,CACpCM,EAAYH,CAAY,CACzB,EAAE,GAAI,EACOR,EAAY,oBAAoB,QAASU,CAAgB,CAC7E,EAfYV,EAAY,iBAAiB,QAASU,CAAgB,CAgBzD,CACN,CACH,EAEAE,EAAUb,EAAWO,CAAO,EAE5B,SAASK,EAAYE,EAAY,CAC/B,MAAMC,EAAM,IAAI,KAAM,EAAC,QAAO,EACxBC,EAAgBF,EAAW,QAAO,EAAKC,EAC7C,GAAIC,GAAiB,EAAG,CACtB,cAAcV,CAAiB,EAC/BJ,EAAY,YAAc,KAC1BC,EAAa,YAAc,KAC3BC,EAAe,YAAc,KAC7BC,EAAe,YAAc,KAC3BL,EAAU,SAAW,GACrBU,EAAS,KAAK,CACV,QAAS,gBACT,SAAU,WACpB,CAAO,EACH,MACD,CAED,MAAMO,EAAO,KAAK,MAAMD,GAAiB,IAAO,GAAK,GAAK,GAAG,EACvDE,EAAQ,KAAK,MAAOF,GAAiB,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAAG,EAC7EG,EAAU,KAAK,MAAOH,GAAiB,IAAO,GAAK,KAAQ,IAAO,GAAG,EACrEI,EAAU,KAAK,MAAOJ,GAAiB,IAAO,IAAO,GAAI,EAE/Dd,EAAY,YAAc,OAAOe,CAAI,EAAE,SAAS,EAAG,GAAG,EACtDd,EAAa,YAAc,OAAOe,CAAK,EAAE,SAAS,EAAG,GAAG,EACxDd,EAAe,YAAc,OAAOe,CAAO,EAAE,SAAS,EAAG,GAAG,EAC5Dd,EAAe,YAAc,OAAOe,CAAO,EAAE,SAAS,EAAG,GAAG,CAC9D"}